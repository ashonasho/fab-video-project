<!DOCTYPE html>
<html>
<head>
    <title>Canvas Video Example</title>
</head>
<body>
    <!-- Hidden video element -->
    <video id="myVideo" width="640" height="360" style="display: none;">
        <source src="video/fabricvedio.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Canvas element -->
    <canvas id="myCanvas" width="640" height="360"></canvas>
    <button id="playPauseButton">Play</button>
    
    <!-- Inline JavaScript -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var video = document.getElementById('myVideo');
            var canvas = document.getElementById('myCanvas');
            var context = canvas.getContext('2d');
            var playPauseButton = document.getElementById('playPauseButton');
            
            // Function to toggle play/pause and update button text/icon
            function togglePlayPause() {
                if (video.paused) {
                    video.play();
                    playPauseButton.textContent = "Pause";
                } else {
                    video.pause();
                    playPauseButton.textContent = "Play";
                }
            }

            // Play or pause the video when the button is clicked
            playPauseButton.addEventListener('click', togglePlayPause);

            // Update button text/icon when video state changes
            video.addEventListener('play', function () {
                playPauseButton.textContent = "Pause";
            });

            video.addEventListener('pause', function () {
                playPauseButton.textContent = "Play";
            });

            // Draw the video frame to the canvas
            video.addEventListener('play', function () {
                function drawVideo() {
                    if (!video.paused && !video.ended) {
                        context.clearRect(0, 0, canvas.width, canvas.height);
                        context.drawImage(video, 0, 0, canvas.width, canvas.height);
                        requestAnimationFrame(drawVideo);
                    }
                }
                drawVideo();
            });
        });
    </script>
</body>
</html>
